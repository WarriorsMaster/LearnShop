<head>
      <title>Learn Shop</title>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
      <div style="margin:20px; border: black 2px solid;padding: 10px; width: 300px;">
            <h4>Add new product:</h4>
            <div class="my-row">
                  <label for="">id: </label>
                  <input type="text" name="id" id="id0" style="align-self: flex-end;">
            </div>
            <div class="my-row">
                  <label for="">name: </label>
                  <input type="text" name="name" id="name0" value="کتاب رهبری">
            </div>
            <div class="my-row">
                  <label for="">description: </label>
                  <input type="text" name="description" id="description0"
                        value="این یک کتاب خیلی جالبت است که ما برای شما آماده کرده ایم">
            </div>
            <div class="my-row">
                  <label for="">category: </label>
                  <input type="text" name="category" id="category0" value="آموزشی">
            </div>
            <div class="my-row">
                  <label for="">image name: </label>
                  <input type="text" name="image" id="image0" value="book1.png">
            </div>
            <div class="my-row">
                  <label for="">price: </label>
                  <input type="number" name="price" id="price0" value="75000">
            </div>
            <div class="my-row">
                  <label for="">quantity: </label>
                  <input type="number" name="quantity" id="quantity0">
            </div>
            <div class="my-row">
                  <div></div>
                  <input type="button" value="Submit" id="submit">
            </div>
      </div>
      <style>
            .my-row {
                  justify-content: space-between !important;
                  display: flex;
                  padding-bottom: 15px;
                  border-bottom: 2px rgba(192, 192, 192, 0.596) solid;
                  margin-bottom: 15px;
            }
      </style>

      <script>
            document.getElementById('submit').addEventListener('click', () => {
                  var product = {
                        id: $('#id0')[0].value,
                        name: $('#name0')[0].value,
                        description: $('#description0')[0].value,
                        category: $('#category0')[0].value,
                        image: $('#image0')[0].value,
                        price: $('#price0')[0].value,
                        quantity: $('#quantity0')[0].value
                  }
                  console.info(product)


                  console.log('try to send the form')
                  $.ajax({
                        type: "post",
                        contentType: "application/json; charset=utf-8",
                        url: 'https://localhost:7128/product',
                        data: JSON.stringify(product),
                        dataType: "json",
                        error: function (res) {
                              if (res.responseText == 'done') {

                                    window.alert('محصول ارسال شد')
                              } else {

                                    window.alert('ارسال محصول با خطا روبرو شد')

                              }
                        }
                  });
            })
      </script>
</body>